# 스프링 MVC 스터디 1주차 정리
# 웹 서버, 웹 애플리케이션 서버
## HTTP
- 클라이언트 <-> 서버 간 통신은 http 기반
- http 는 프로토콜
## 웹 서버
- nginx, apache ...
- http 기반으로 정적 리소스를 제공하는
## 웹 애플리케이션 서버 WAS
- 웹 서버의 기능을 포함
- 프로그램 코드를 실행해서 애플리케이션 로직 수행 가능
- tomcat, undertow...
> 둘의 경계는 모호함. 자바의 경우 서블릿 있으면 WAS로 생각

## 웹 시스템 = WAS + DB
- 문제점 : WAS가 너무 많은 역할을 담당. 과부하
- WAS 에 장애 발생하면 오류 화면도 띄울 수가 없음  
-> WEB + WAS + DB 구조로 구성 
### WEB + WAS + DB
- 웹서버는 html, 이미지 등의 정적 리소스만 제공
- WAS는 애플리케이션 로직 수행
- 정적 리소스 많이 필요하면 웹서버 늘리고, 애플리케이션 리소스 많이 필요하면 WAS 늘리면 됨
- WAS나 DB에 장애 생기면 웹서버가 오류 화면 띄울 수 있음
# 서블릿
- 서블릿을 지원하는 WAS를 이용하면 http 통신 과정을 개발자가 직접 구현하지 않아도 됨
## 서블릿 컨테이너
- 서블릿 컨테이너가 서블릿 객체를 생성해서 생명주기 관리
- 톰캣처럼 서블릿을 지원하는 WAS를 서블릿 컨테이너라고 함
- **싱글톤** 으로 관리 (객체 딱 하나만 생성하여 관리) 
- 동시 요청을 위한 multi-thread 지원
# 스레드
- 자바 메인 메서드 실행하면 main 이라는 이름의 thread 실행됨
- 동시 처리가 필요하면 thread 추가로 생성
## 요청마다 스레드를 생성하면
- Context-switching 비용 발생
- CPU, 메모리 임계점 넘어서 서버 죽을 수 있음
## 스레드 풀
- 스레드들을 스레드 풀에 보관하고 관리
- 스레드 최대 개수 지정 가능. 이 개수 설정이 성능에 큰 영향
- 스레드 필요할 때 풀에서 꺼내서 사용하고 다시 넣어서 반납
- 스레드가 일부 미리 생성되어 있으므로 생성하는 데에 걸리는 시간 절약
## WAS의 멀티스레드 지원
- 개발자가 멀티스레드 관련 코드 구현할 필요 없음
- 멀티스레드 관련 부분은 WAS가 알아서 해줌
- 멀티스레드 환경이기 때문에 싱글톤객체 (서블릿, 스프링 빈) 은 주의해서 사용

# HTML, HTTP API, CSR, SSR
## SSR - Server Side Rendering
- 백엔드가 렌더링
- thymeleaf, jsp..
## CSR - Client Side Rendering
- React, Vue ..
# 자바 웹 기술 역사
- Annotation 기반의 스프링 MVC 등장
- 스프링 부트의 등장 : WAS 내장 -> 빌드 및 배포가 단순해짐